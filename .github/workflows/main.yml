name: Flutter iOS Build (Unsigned IPA)

on:
push:
branches:
- main
workflow_dispatch:

jobs:
build-ios:
runs-on: macos-latest

steps:
  - name: Checkout repository
    uses: actions/checkout@v4

  - name: Setup Flutter
    uses: subosito/flutter-action@v2
    with:
      flutter-version: 3.24.0
      channel: stable

  - name: Flutter doctor
    run: flutter doctor -v

  - name: Get dependencies
    run: flutter pub get

  - name: Build iOS IPA (NO SIGNING)
    run: flutter build ipa --release --no-codesign

  - name: Upload IPA artifact
    uses: actions/upload-artifact@v4
    with:
      name: ios-ipa
      path: build/ios/ipa/*.ipa
```
